var skills = [
  {
    name: "Airtable",
    icon: "https://img.icons8.com/?size=120&id=elyFOMuEo0iE&format=png"
  },
  {
    name:"Zapier",
    icon: "https://img.icons8.com/?size=80&id=aeA0JLcQ9Wic&format=png"
  },
  {
    name:"AWS",
    icon: "https://img.icons8.com/?size=48&id=33039&format=png"
  },
  {
    name: "Azure",
    icon: "https://img.icons8.com/?size=96&id=VLKafOkk3sBX&format=png"
  },
  {
    name: "RubyOnRails",
    icon: "https://img.icons8.com/?size=256&id=e2hIFBAN6UIe&format=png"
  },
  {
    name: "ReactJS",
    icon: "https://img.icons8.com/external-tal-revivo-color-tal-revivo/48/000000/external-react-a-javascript-library-for-building-user-interfaces-logo-color-tal-revivo.png",
  },
  {
    name: "NextJS",
    icon:"https://img.icons8.com/?size=128&id=AU6Wc7r56Fxz&format=png"
  },
  {
    name: "ExpressJS",
    icon: "https://img.icons8.com/fluency/48/000000/node-js.png",
  },
  {
    name: "NodeJS",
    icon: "https://img.icons8.com/color/48/000000/nodejs.png",
  },
  {
    name: "Redux",
    icon: "https://img.icons8.com/color/48/000000/redux.png",
  },
  {
    name: "Firebase",
    icon: "https://img.icons8.com/color/48/000000/firebase.png",
  },
  {
    name: "Android",
    icon: "https://img.icons8.com/fluency/48/000000/android-os.png",
  },
  {
    name: "MaterialUI",
    icon: "https://img.icons8.com/color/48/000000/material-ui.png",
  },
  {
    name: "ChakraUI",
    icon: "https://img.icons8.com/color/48/000000/chakra-ui.png",
  },
  {
    name: "TailwindCSS",
    icon: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Tailwind_CSS_Logo.svg/48px-Tailwind_CSS_Logo.png",
  },
  {
    name: "Bootstrap",
    icon: "https://img.icons8.com/color/48/000000/bootstrap.png",
  },
  {
    name: "Sass",
    icon: "https://img.icons8.com/color/48/000000/sass.png",
  },
  {
    name: "HTML5",
    icon: "https://img.icons8.com/color/48/000000/html-5--v1.png",
  },
  {
    name: "CSS3",
    icon: "https://img.icons8.com/color/48/000000/css3.png",
  },
  {
    name: "JavaScript",
    icon: "https://img.icons8.com/color/48/000000/javascript--v1.png",
  },
  {
    name: "Java",
    icon: "https://img.icons8.com/color/48/000000/java-coffee-cup-logo--v1.png",
  },
  {
    name: "Kotlin",
    icon: "https://img.icons8.com/color/48/000000/kotlin.png",
  },
  {
    name: "PHP",
    icon: "https://img.icons8.com/offices/48/000000/php-logo.png",
  },
  {
    name: "Python",
    icon: "https://img.icons8.com/color/48/000000/python--v1.png",
  },
  {
    name: "C++",
    icon: "https://img.icons8.com/color/48/000000/c-plus-plus-logo.png",
  },
  {
    name: "MongoDB",
    icon: "https://img.icons8.com/color/48/000000/mongodb.png",
  },
  {
    name: "MySQL",
    icon: "https://img.icons8.com/color/48/000000/mysql-logo.png",
  },
  {
    name: "PostgreSQL",
    icon: "https://img.icons8.com/color/48/000000/postgreesql.png",
  },
  {
    name: "AWS",
    icon: "https://img.icons8.com/color/48/000000/amazon-web-services.png",
  },
  {
    name: "Heroku",
    icon: "https://img.icons8.com/color/48/000000/heroku.png",
  },
  {
    name: "Netlify",
    icon: "https://img.icons8.com/external-tal-revivo-shadow-tal-revivo/48/000000/external-netlify-a-cloud-computing-company-that-offers-hosting-and-serverless-backend-services-for-static-websites-logo-shadow-tal-revivo.png",
  },
  {
    name: "DigitalOcean",
    icon: "https://img.icons8.com/ios-filled/48/0080FF/digitalocean.png",
  },
  {
    name: "jQuery",
    icon: "https://img.icons8.com/ios-filled/48/1169ae/jquery.png",
  },
  {
    name: "Git VCS",
    icon: "https://img.icons8.com/color/48/000000/git.png",
  },
  {
    name: "GitHub",
    icon: "https://img.icons8.com/glyph-neue/48/ffffff/github.png",
  },
  {
    name: "WordPress",
    icon: "https://img.icons8.com/color/48/000000/wordpress.png",
  },
];

var projects = [
  {
    name: "Blockchain EXCHANGE",
    desc: "Blockchain Swap Site Using DEFI & Smart Contract & Web3 & MERN & Typescript",
    image: "novation-swap.vercel.app/1",
    category: "blockchain, mern, frontend, bet",
    links: {
      view: "https://novation-swap.vercel.app/",
    },
  },
  {
    name: "Ethereum DAPP",
    desc: "Anything Is Possible Within Ethereum Vniverse.",
    image: "ether.site/2",
    category: "blockchain, frontend, bet",
    links: {
      view: "https://ether.site/",
    },
  },
  {
    name: "Galaxy Fight Club",
    desc: "The Galaxy Fight Club (GFC) is not just an avatar project, it is a real-time PvP game to bring together all the other different NFT collections onto one single platform, this means you can 'log-in' with a NFT you have already bought and battle with that character.",
    image: "galaxyfightclub.com/1",
    category: "blockchain, frontend, bet, game, mern",
    links: {
      view: "https://galaxyfightclub.com/",
    },
  },
  {
    name: "Web3 Gaming Ecosystem",
    desc: "Revolution Land is a leading Web3 game ecosystem developed by Chain X Game, a well-known game company in the Middle East.",
    image: "revoland/1",
    category: "blockchain, frontend, bet, mern",
    links: {
      view: "https://revoland.com/",
    },
  },
  {
    name: "Crypto Casino",
    desc: "Crypto Casino & Sports Betting Site Using MERN & Web3.",
    image: "owl.games/1",
    category: "blockchain, casino, frontend, bet",
    links: {
      view: "https://owl.games/",
    },
  },
  {
    name: "Wide Casino Provider",
    desc: "Casino Game Provider With Many Games Using AWS & API Integration",
    image: "net.ng-demo/1",
    category: "casino, frontend, bet",
    links: {
      view: "https://net.ng-demo.com",
    },
  },
  {
    name: "Casino Platform",
    desc: "PlayZap games is competitive skill-based gaming app built on blockchain technology where you can play your favorite game, compete against other players and win rewards.",
    image: "playzap.games/1",
    category: "blockchain, casino, frontend, bet, mern",
    links: {
      view: "https://www.playzap.games/",
    },
  },
  {
    name: "NFT Game Platform",
    desc: "Players understood that the one who controls Cells - controls the Hive itself. Will you become the one who will challenge huge corporations in a fight for Hiveâ€™s essence?",
    image: "project-hive.io/1",
    category: "blockchain, nft, game, frontend, bet, mern",
    links: {
      view: "https://project-hive.io",
    },
  },
  {
    name: "Blockchain Bet",
    desc: "Blockchain Bet Platform With Own Token & Serveral Tokens",
    image: "blockchainbets.club/1",
    category: "blockchain , casino, sportsbook, mern",
    links: {
      view: "https://blockchainbets.club",
    },
  },
  {
    name: "Tiny Game Platform",
    desc: "Check latest WHOIS data, Whois History & Reverse Whois of growroll.co, all in one page. Try now, it's 100% FREE!",
    image: "growroll.co/1",
    category: "frontend, bet, game, laravel",
    links: {
      view: "https://growroll.co/",
    },
  },
  {
    name: "E-Shop",
    desc: "The story of Be Young is very simple and holds the essence of vision, hard work, and perseverance. Beyoung runs with the idea of providing the best to the customers because there is no feeling better than customer satisfaction. The prime focus of Be Young is to create products that represent the young souls by acting as a replica of their thoughts, personality, and choices.",
    image: "beyoung.in/1",
    category: "frontend, shop",
    links: {
      view: "https://beyoung.in",
    },
  },
  {
    name: "Business Management",
    desc: "We create demonstrable business value through the use of technology. By assisting the enterprise to develop and execute on focused strategies to reduce operating costs or drive critical competitive advantage, Cooperative Computing ensures your business will obtain the desired benefit from your technology investments or can exit a project quickly with little risk.",
    image: "cooperativecomputing.com/1",
    category: "frontend, laravel, project",
    links: {
      view: "https://cooperativecomputing.com",
    },
  },
  {
    name: "KLEINE KRONE",
    desc: "The Kleine provides many games for free & can play the game",
    image: "kleinekrone.de/1",
    category: "frontend, game, laravel",
    links: {
      view: "https://kleinekrone.de",
    },
  },
  {
    name: "Loto188",
    desc: "LOTO188 betting website operates legally in the Philippines (PAGCOR License No. OGL16-0023) and is supervised by Gaming Associates.",
    image: "loto288.com/1",
    category: "frontend, bet, game, mern",
    links: {
      view: "https://loto288.com",
    },
  },
  {
    name: "Link Outdoor Lighting",
    desc: "Link Outdoor Lighting is committed to providing quality outdoor lighting suitable for all your residential and commercial projects.",
    image: "linkoutdoorlighting.com/1",
    category: "frontend, hotel",
    links: {
      view: "https://www.linkoutdoorlighting.com/",
    },
  },
  {
    name: "Build My Ski Trip",
    desc: "Overwhelmed with choice? Not sure where to start? Let us help you find your perfect holiday in just a few simple steps.",
    image: "buildmyskitrip.com/1",
    category: "frontend, trip",
    links: {
      view: "https://www.buildmyskitrip.com/",
    },
  },
  {
    name: "UGMONK",
    desc: "A design studio in Downingtown, PA, creating and curating products that combine form & function.",
    image: "ugmonk.com/1",
    category: "frontend, shop",
    links: {
      view: "https://ugmonk.com/",
    },
  },
];

$(document).ready(function () {
  $("#menu").click(function () {
    $(this).toggleClass("fa-times");
    $(".navbar").toggleClass("nav-toggle");
  });

  $(window).on("scroll load", function () {
    $("#menu").removeClass("fa-times");
    $(".navbar").removeClass("nav-toggle");

    if (window.scrollY > 60) {
      document.querySelector("#scroll-top").classList.add("active");
    } else {
      document.querySelector("#scroll-top").classList.remove("active");
    }

    // scroll spy
    $("section").each(function () {
      let height = $(this).height();
      let offset = $(this).offset().top - 200;
      let top = $(window).scrollTop();
      let id = $(this).attr("id");

      if (top > offset && top < offset + height) {
        $(".navbar ul li a").removeClass("active");
        $(".navbar").find(`[href="#${id}"]`).addClass("active");
      }
    });
  });

  // smooth scrolling
  $('a[href*="#"]').on("click", function (e) {
    e.preventDefault();
    $("html, body").animate(
      {
        scrollTop: $($(this).attr("href")).offset().top,
      },
      500,
      "linear"
    );
  });

  // <!-- emailjs to mail contact form data -->
  $("#contact-form").submit(function (event) {
    emailjs.init("user_TTDmetQLYgWCLzHTDgqxm");

    emailjs
      .sendForm("contact_service", "template_contact", "#contact-form")
      .then(
        function (response) {
          console.log("SUCCESS!", response.status, response.text);
          document.getElementById("contact-form").reset();
          alert("Form Submitted Successfully");
        },
        function (error) {
          console.log("FAILED...", error);
          alert("Form Submission Failed! Try Again");
        }
      );
    event.preventDefault();
  });
  // <!-- emailjs to mail contact form data -->
});

document.addEventListener("visibilitychange", function () {
  if (document.visibilityState === "visible") {
    document.title = "Portfolio | Sergei Petrov";
    $("#favicon").attr("href", "assets/images/favicon.png");
  } else {
    document.title = "Come Back To Portfolio";
    $("#favicon").attr("href", "assets/images/favhand.png");
  }
});

// <!-- typed js effect starts -->
var typed = new Typed(".typing-text", {
  strings: [
    "Frontend Engineer",
    "Backend Engineer",
    "No/Low Code Engineer"
  ],
  loop: true,
  typeSpeed: 50,
  backSpeed: 25,
  backDelay: 500,
});
// <!-- typed js effect ends -->

async function fetchData(type = "skills") {
  let response;
  //   type === "skills"
  //     ? (response = await $.getJSON("./skills.json"))
  //     : (response = await $.getJSON("projects/projects.json"));
  type === "skills" ? (response = skills) : (response = projects);

  const data = response;
  return data;
}

function showSkills(skills) {
  let skillsContainer = document.getElementById("skillsContainer");
  let skillHTML = "";
  skills.forEach((skill) => {
    skillHTML += `
        <div class="bar">
              <div class="info">
                <img src=${skill.icon} width="48px" height="48px" alt="skill" />
                <span>${skill.name}</span>
              </div>
            </div>`;
  });
  skillsContainer.innerHTML = skillHTML;
}

function showProjects(projects) {
  let projectsContainer = document.querySelector("#work .box-container");
  let projectHTML = "";
  projects
    .slice(0, 10)
    .filter((project) => project.category != "android")
    .forEach((project) => {
      projectHTML += `
        <div class="box tilt">
      <img draggable="false" src="./assets/images/projects/${project.image}.png" alt="project" />
      <div class="content">
        <div class="tag">
        <h3>${project.name}</h3>
        </div>
        <div class="desc">
          <p style='height:80px; overflow:auto;'>${project.desc}</p>
          <div class="btns">
            <a href="${project.links.view}" class="btn" target="_blank"><i class="fas fa-eye"></i> View</a>
            <a href="${project.links.view}" class="btn" target="_blank"><i class="fas fa-eye"></i> Detail</a>
          </div>
        </div>
      </div>
    </div>`;
    });
  projectsContainer.innerHTML = projectHTML;

  // <!-- tilt js effect starts -->
  VanillaTilt.init(document.querySelectorAll(".tilt"), {
    max: 15,
  });
  // <!-- tilt js effect ends -->

  /* ===== SCROLL REVEAL ANIMATION ===== */
  const srtop = ScrollReveal({
    origin: "top",
    distance: "80px",
    duration: 1000,
    reset: true,
  });

  /* SCROLL PROJECTS */
  srtop.reveal(".work .box", { interval: 200 });
}

fetchData().then((data) => {
  showSkills(data);
});

fetchData("projects").then((data) => {
  showProjects(data);
});

// <!-- tilt js effect starts -->
VanillaTilt.init(document.querySelectorAll(".tilt"), {
  max: 15,
});
// <!-- tilt js effect ends -->

// pre loader start
// function loader() {
//     document.querySelector('.loader-container').classList.add('fade-out');
// }
// function fadeOut() {
//     setInterval(loader, 500);
// }
// window.onload = fadeOut;
// pre loader end

// disable developer mode
document.onkeydown = function (e) {
  if (e.keyCode == 123) {
    return false;
  }
  if (e.ctrlKey && e.shiftKey && e.keyCode == "I".charCodeAt(0)) {
    return false;
  }
  if (e.ctrlKey && e.shiftKey && e.keyCode == "C".charCodeAt(0)) {
    return false;
  }
  if (e.ctrlKey && e.shiftKey && e.keyCode == "J".charCodeAt(0)) {
    return false;
  }
  if (e.ctrlKey && e.keyCode == "U".charCodeAt(0)) {
    return false;
  }
};

// Start of Tawk.to Live Chat
var Tawk_API = Tawk_API || {},
  Tawk_LoadStart = new Date();
(function () {
  var s1 = document.createElement("script"),
    s0 = document.getElementsByTagName("script")[0];
  s1.async = true;
  s1.src = "https://embed.tawk.to/65eefbb68d261e1b5f6b858f/1homoegnb";
  s1.charset = "UTF-8";
  s1.setAttribute("crossorigin", "*");
  s0.parentNode.insertBefore(s1, s0);
})();
// End of Tawk.to Live Chat

/* ===== SCROLL REVEAL ANIMATION ===== */
const srtop = ScrollReveal({
  origin: "top",
  distance: "80px",
  duration: 1000,
  reset: true,
});

/* SCROLL HOME */
srtop.reveal(".home .content h3", { delay: 200 });
srtop.reveal(".home .content p", { delay: 200 });
srtop.reveal(".home .content .btn", { delay: 200 });

srtop.reveal(".home .image", { delay: 400 });
srtop.reveal(".home .linkedin", { interval: 600 });
srtop.reveal(".home .github", { interval: 800 });
srtop.reveal(".home .twitter", { interval: 1000 });
srtop.reveal(".home .telegram", { interval: 600 });
srtop.reveal(".home .instagram", { interval: 600 });
srtop.reveal(".home .dev", { interval: 600 });

/* SCROLL ABOUT */
srtop.reveal(".about .content h3", { delay: 200 });
srtop.reveal(".about .content .tag", { delay: 200 });
srtop.reveal(".about .content p", { delay: 200 });
srtop.reveal(".about .content .box-container", { delay: 200 });
srtop.reveal(".about .content .resumebtn", { delay: 200 });

/* SCROLL SKILLS */
srtop.reveal(".skills .container", { interval: 200 });
srtop.reveal(".skills .container .bar", { delay: 400 });

/* SCROLL EDUCATION */
srtop.reveal(".education .box", { interval: 200 });

/* SCROLL PROJECTS */
srtop.reveal(".work .box", { interval: 200 });

/* SCROLL EXPERIENCE */
srtop.reveal(".experience .timeline", { delay: 400 });
srtop.reveal(".experience .timeline .container", { interval: 400 });

/* SCROLL CONTACT */
srtop.reveal(".contact .container", { delay: 400 });
srtop.reveal(".contact .container .form-group", { delay: 400 });
